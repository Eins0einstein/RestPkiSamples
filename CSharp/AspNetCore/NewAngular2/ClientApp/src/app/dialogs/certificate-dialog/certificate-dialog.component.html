<h2 mat-dialog-title>Certificate details</h2>
<mat-dialog-content>

    <form class="form-horizontal" role="form">

        <!-- Breadcrumb -->
        <ol class="breadcrumb" *ngIf="model">

            <li *ngFor="let cert of certBreadcrumb">
                <a href="" ng-click="showIssued(cert)">
                    {{ cert.subjectName.commonName }}
                </a>
            </li>

            <li class="active">{{ model.subjectName.commonName }}</li>
        </ol>

        <!-- Subject -->
        <div class="form-group">
            <label class="col-sm-3 control-label">Subject</label>
            <div class="col-sm-9" *ngIf="model">
                <p class="form-control-static">
                    {{ model.subjectName.commonName }}
                    <span title="{{ (subjectDetailsVisible ? 'hide details' : 'show details') }}">
                        <span *ngIf="subjectDetailsVisible; then subjectThen; else subjectElse"></span>
                        <ng-template #subjectThen>
                            <span class="glyphicon glyphicon-menu-up glyphicon-btn" (click)="subjectDetailsVisible = false"></span>
                        </ng-template>
                        <ng-template #subjectElse>
                            <span class="glyphicon glyphicon-menu-down glyphicon-btn" (click)="subjectDetailsVisible = true"></span>
                        </ng-template>
                    </span>
                </p>
            </div>

            <div class="form-group-sm" *ngIf="subjectDetailsVisible">
                <label class="col-sm-3 control-label">Common Name</label>
                <div class="col-sm-9">
                    <p class="form-control-static">{{ model.subjectName.commonName }}</p>
                </div>

                <label class="col-sm-3 control-label">Organization Unit</label>
                <div class="col-sm-9">
                    <p class="form-control-static">{{ model.subjectName.organizationUnit }}</p>
                </div>

                <label class="col-sm-3 control-label">Organization</label>
                <div class="col-sm-9">
                    <p class="form-control-static">{{ model.subjectName.organization }}</p>
                </div>

                <label class="col-sm-3 control-label">Country</label>
                <div class="col-sm-9">
                    <p class="form-control-static">{{ model.subjectName.country }}</p>
                </div>

                <label class="col-sm-3 control-label">Email Address</label>
                <div class="col-sm-9">
                    <p class="form-control-static">{{ model.subjectName.emailAddress }}</p>
                </div>
            </div>
        </div>

        <!-- Issuer -->
        <div class="form-group">
            <label class="col-sm-3 control-label">Issuer</label>
            <div class="col-sm-9" *ngIf="model">
                <p class="form-control-static">
                    <span *ngIf="hasIssuer(); then hasIssuerThen; else hasIssuerElse"></span>
                    <ng-template #hasIssuerThen>
                        <a href="" (click)="showIssuer()">{{ model.issuerName.commonName }}</a>
                    </ng-template>
                    <ng-template #hasIssuerElse>{{ model.issuerName.commonName }}</ng-template>

                    <span title="{{ (issuerDetailsVisible ? 'hide details' : 'show details') }}">
                        <span *ngIf="issuerDetailsVisible; then issuerThen; else issuerElse"></span>
                        <ng-template #issuerThen>
                            <span class="glyphicon glyphicon-menu-up glyphicon-btn" (click)="subjectDetailsVisible = false"></span>
                        </ng-template>
                        <ng-template #issuerElse>
                            <span class="glyphicon glyphicon-menu-down glyphicon-btn" (click)="subjectDetailsVisible = true"></span>
                        </ng-template>                        
                    </span>
                </p>
            </div>

            <div class="form-group-sm" *ngIf="issuerDetailsVisible">
                <label class="col-sm-3 control-label">Common Name</label>
                <div class="col-sm-9">
                    <p class="form-control-static">{{ model.issuerName.commonName }}</p>
                </div>

                <label class="col-sm-3 control-label">Organization Unit</label>
                <div class="col-sm-9">
                    <p class="form-control-static">{{ model.issuerName.organizationUnit }}</p>
                </div>

                <label class="col-sm-3 control-label">Organization</label>
                <div class="col-sm-9">
                    <p class="form-control-static">{{ model.issuerName.organization }}</p>
                </div>

                <label class="col-sm-3 control-label">Country</label>
                <div class="col-sm-9">
                    <p class="form-control-static">{{ model.issuerName.country }}</p>
                </div>

                <label class="col-sm-3 control-label">Email Address</label>
                <div class="col-sm-9">
                    <p class="form-control-static">{{ model.issuerName.emailAddress }}</p>
                </div>
            </div>
        </div>

        <!-- Validity -->
        <div class="form-group">
            <label class="col-sm-3 control-label">Validity</label>
            <div class="col-sm-9" *ngIf="model">
                <p class="form-control-static">
                    {{ model.validityStart | date }} <b>to</b> {{ model.validityEnd | date }}
                </p>
            </div>
        </div>

        <!-- Serial Number -->
        <div class="form-group">
            <label class="col-sm-3 control-label">Serial Number</label>
            <div class="col-sm-9" *ngIf="model">
                <p class="form-control-static">{{ model.serialNumber }}</p>
            </div>
        </div>

    </form>

</mat-dialog-content>
<mat-dialog-actions align="center">
    <button mat-button mat-dialog-close>Close</button>
</mat-dialog-actions>